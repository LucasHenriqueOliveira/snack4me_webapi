<?php

header('Content-Type: application/json');

header('Access-Control-Allow-Origin: '.$_SERVER['HTTP_ORIGIN']);
header('Access-Control-Allow-Credentials: true');
header('Access-Control-Allow-Headers: Accept, Origin, Content-Type, Cookies, Token, x-access-token, x-key');
header('Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS');


use \Psr\Http\Message\ServerRequestInterface as Request;
use \Psr\Http\Message\ResponseInterface as Response;
use \App\TratarImagem;
 
$configuration = [
    'settings' => [
        'displayErrorDetails' => true,
    ],
];


$entityManager = getEntityManager();

$c = new \Slim\Container($configuration);

$c['errorHandler'] = function ($c) {
    return function ($request, $response, $exception) use ($c) {
        return $c['response']->withStatus(500)
            ->withHeader('Content-Type', 'text/html')
            ->write('Algo deu errado!');
    };
};


$app = new \Slim\App($c);
 



$app->get('/', function (Request $request, Response $response) {

    #$response->getBody()->write("URL Incompleta");
    $data = "URL Incompleta";
    
    return $response
        ->withHeader("Content-Type", "application/json")
        ->write(json_encode($data, JSON_UNESCAPED_SLASHES | JSON_PRETTY_PRINT));
});

$app->get('/pasta',function(Request $request, Response $response){
	
	try{
		
		$full = "data:image/jpeg;base64,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";
		$thumb = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAABgFBMVEU+lvz673D+69bz2bkAAADZ00v////88G48lf3o6HdKnuv/7tn673H/+Vchj/86lP7+8Wz/8t1pqfVOn/7P2uX19vaHrt1SnfHE0N5iofD/82gykv+WsdL/9nT23sH5377h5IHv63WLu8D38GtQTiQ2hNY9l/jSv6PUzknj1sSppE3HwUVjYS7eyatfpeLI2JnFvK2/1J3a4YXZ02RoZV2VjYItLCkODgA8Oznn5+daWSt/tM1kqdsmJhLs4mq2z6VkXE8YGBaTjzJzcDQuLRTN3IylmIK4r6GBtspeWlPGtZp2sNSmyLHUyrsdR3M/PRdMSkWMhnvS0dCtrawUME12c26SjkIAAAqxrD3Sy2Cawbp/dWQPJDdjp9+0zaskVYwvdcG7tlWKiohTU1OjoqCWjXwjVoosa6yyoosQKEAJFiJUTkIeHQxqrNcjIBwwMTFyalsaP2ZBT0NFhcGOijEAABybl0YXFwC5tEBvbTSQnm98eStLSRQgHSYUasBYVhmNutzuAAAQKUlEQVRogcWbi1vaWBbAeVybQLICo5YplOUhxoKCKE/fUkAUpKAVFKi2zNTKVKXObqeta3f7r++5SUjuDUHR+b6ZM9/X8YH55bzPvbkxPMEyNfn8pwnDXyATPz2fnBKRBvzP5FOnwfZXcA2AcT6dlMFTPz/7a6B9efbzlAj++Rn714LZZz9j8OQjuCzL2uA/1maDfx7x588mnximnj7wj9w2w4TTGo2erIGcRK1Op2AA/sOu8nTKMOl8ANTmHnee7LROFxcKS0s+kKWlwsLiXms1Koy7H8J2Thqej0x1u51rrQWLxc/zDCW832/xLQaignt0xZ8bfhopj1i3Ibq66Zt2uQBkHBD4ocvlX9orW9nRFLf9ZBilbrCs9WpvyW+3DyJJsdsthdaJcyS1RypXbuvOosV1D1XS3O7ybZad7lGuep+Aa8tLfj37DmEbLQvRh0WaLpZ1Bnyu0bGy2oXViT9HttnKC/47bMzw8U4nbhy4L7tl8+TPKG2L7vlAW2aYGOON4OV69bbJa3/BTC8FrI8ls+6rAlbGbxkmzRWEqnmE8g3NL/xgDP9i9HFKs84WL1p5M2rVlyhgj8fGvv1Io9//Tf5irYCN77KsCo8hRxftou8YS9nN6snMIQo2x7C8rKLDGbF1iOJu8XKAnz7c3GBmvh9BhXG9Twiv0HqHnxbJx0B++25GmBAMuNf75WgDc1sfNmCwtitejVHXqvavBUGYeYVQGD4kgsfmbhH6481vv394B+iWS01qn/Uh1YQVAhYiRexLUYUszLw7Pz9/++rwCKGgB37JS+Sxb7ffIcwQ+nhepv+2bBjZ3BruxgbfEmTs+as/jpAswab4obG+zB1/vv2eRm/+QxgLlAbyyOCARS0afOc2bPetiSpj8640wl9usG7VjnxfY4TMQZxVm1RBsS+tjmjt8bJf+UsPn8t/7TCuPVHfQ4RyGzxv3GiGV1Y6Rh0wmPw7mvfQ5c0XHY28qpZAvrOOUIOH0rjjxtxgU7om4/F4+h+apsFjL36gDgWGAhodxc5rSyo3DDa9xJexFwThA3CNg6IFj32rBuOa6r1wfz6z1oJqo2Y+3UB50WXTrbd/BOM63EHw2DE2EmVsfvO+bsWyp0oSGvkgajRRusGDYfnGUbXp0ULxhzYGwGM/1jsaNzOBe9zM7qhcJoxW4vw8xG+406iiFT07wyUHuWPf8vnwBv0x/9qdKtuufKp3NuZR2MjEb9I4adO5uI6+zEY8/kKH/PISso1C2wvRO4on61wkun68msdKxsO54EpOo4GE9TRz1eBnHfKLl3mUD9Of3rtrCAyoGWxkOutV2Ysg8g89HviSkbEb87iQpINzOjrP/YBSTtqI8ZWHgm0nPkJhpnMZ1FiX2fiygr7edHgYMWD6yMu1s6pHhnSm89k+PKfGN8n0A401YCaeQ5lE7ehrI74RDwcR6qUyqSyQf+iRvwURnc/+YZFts7qovI9Xq3S5jweP6hVTpbiLqjcYu1usVGLbW4C+1Yuw43WUIy/AWIb0KWHPRXKMGyvrZAYx/A2qhziOM4WSKYRS9VjIBN+YI90e+vqSsLFyEzcwKZAXdO3oBraN6A2ieMLoC2mAFbRv4kwgnEMU8WvTP81e8xZCn0Xm8e262DCPRfiLPKqSxQ66hQ6ZdZ4aaWHi6Xk1ifgcSoQkFi1mszdyjdDx3LeXEE+oh52eFe9jDMaSBhkmfEtHYfeaTzuXfyFMxTfQri4XVDZ7Z7fQ+vd8amu72y2VtjMIrYu2n6uiS0qVgl5gt1wabrwKRtuQJk1jGGViulwMNpsj29ft7VmzF4t5FqeYaOyXmmSeHpwJoCtpFAYXo3waGj8uIbdDuTJZJMri7YK5j6WijaiW5hrsUu4A3clAcvBHnXzwS6eTu0S1mGMIVwLTAj6/FcMrJ7VzNbzWtOHl3tSuzTZWcGQ059cvEaolQw59hSHCTYPgNkLzYnh9Rpre3NLYmnVqQ4tpVlGHEf+XCJlMxXZFj8yF6onQoMptWWOxiJDtxV7QmNq9qg0tJi6CPbeoFnJUEgjVdbk1MEfEq+FGLlBaqqIQ1/MkmPFHafL4phZs3LgBMNNM94pcbDdTT8b0LB0qJrLoOkJzvWdH6c9jfTA9MLm0BXsgiY2eBrr1GOdBU0d9v2Jy6AeXw/S+htoU1rytFu8BsH2RWojZopZBcBjWKJ31bJHjQqZhqYSlksl2VWN7I+0syvXbFYCrVItifHRsBfxarhjWt1CfgXkXFv+2tqUqPNuTc1hfY8ZCJZSwN5DFIGF0mT7SDWYNudIuqYEFCn8bDjb6yRYFs5bevg5Me6LC90skQri4e5F/2W+NULpWaDC/J9xVLyUvdxCqyI3wbj6RybP7pUgGfVaHgRvNmLjpVBOKXLaQ4BuUkC4cKup3JjwJaMClFDozt4+k+jH2Mk0XEHAyOXqx5cGgxrULZYuSD1Moo8KK7zmFGgqFNGDv7AXqms+OpMngVlsyYb1MlBB2Rxf8BdVESzv2oc/1mxMUq4SU0g6uu59IJJJgDKpozm5lu5Hrrzi0X9ygtGa8hj5B1C69bMLpJJVJB4xYKNkvIElUlO6hWJOm20yF7hNecyZbMl98nxMXy/kOrRNjIeZroaWTTZ7OZVZCOJAKBrPvhqSvoJBmRXIqRIAjW9eRyEVmNpKF6nWMtNkE4FUCrJfGni8oE1LBspqOev8rCLlKsf5JvCnC1pE2ykRKUFLaMITABJLTXJrx75Bg/COeEtwkdmVnwhCVle6Bq0CzUgKcc5hi0LfAI4STI2fZWqnb2y7991haTVBXxWADBbb/QyNjVbQvgyG4pIDiQrugHiWhZJYGe80ldDHbvojs/piDGYK+KCwZ/AEKDFE+Tsv//lCMyhWlr7hQYmDW5Byh3SRHmLoU8ZayW7OZ9lk+h9Chgboo5K0GbGRONQuM837ZUusERDQanPk4yGUVXErVut6z7Fn3oo2HpnOqFzkX7AOmhmUkxTV86PtVEUey13c7TaYSeRsnUzvbvd6CPvVmhromLIPp4MLpxCxSo6fwO/pEX99RzKLeXcN1X+daanY2tdWFkESviI5gYKPQEqh0EgsIw1NTiXCIavTFoXBqI0sXbDantmAld3aBNzZJfd2ndk0BkUom4yf3tWd+QzVKOwgsKFJDuhTh462uuZTpeq9rAP6dUtjq0pZMuUm4iHhjZ95o/VkfCTx70SuZt0tePIlQocUK4kDJEFvB0BbFWY/xnag/A/AWBeZCGf0ZV2PqUiblxaMXrF0PSYUNO+IymG6L8iDAEE165qNWY0eS7BXDfdwFsLeES+k7AmvrDxvUICCPPoxf3YsH8K9aCLSjHmUEXbB51izO9OgjlUstiUuNPkqXcCl2wD7WRLXJEftEFxA1zwdWMV6Yf8jYsp0sSYszf4CcMpXxVtmZweCMSSuxZJH4LlSrOIaBoZBk0UfV1uOn8u6Y5YoEu0/kEcRu6ccc5LG2cuEaRf7EkYW8ln4wyDXj6HqrAMrTMthHBZxB6C9h7KduBSzX6tiQHOIcCZTdl25OB4yXjP3CxQoL8irYvkA/S1IWbTDpS14WXknNn4tlijpgPOjF8EhUr4wAhlSS5wDtos2tbhf3w/0DQmcOzEV1zkHP1fB9qLhf64mDTy2m62IR/EFWONqf2weWqazVovxKblvnR2L3x6W+dl2UxlgppkKV5G4WZeqvl5d/galrN6QLxgl1LshJ09fKXjBoxK1sGDNLksrvcFhzoR7qvX9fr6Uyif1kESS5v9tDqV9/eb2MT+wcZIaCu9l+U7SdKFt309qtCIM7oIxjshtmDlEqxnF11Dt4MrV88PqXei2T6mV7mcQvrw+WpSNKB1C/0b6+i2uKi23Kql+TTJIblFUMY5GeRH7AXZCrZNCnA4yZmppaFmVKgj6ZOvi1t1vZRUUdhcVtRiQpDKmk6LSo81BE3WBzbeL+KJxjK3JcESUStffLTzSy/L6GMkmoZqkKR4PxjlfpQinV0AiUDSWdDTaDe82iqiz+HpycKuIBrxJK1mqvD6YUKFj+fQal6pDDjhjcHMWd7Za6bUi0N3L1YNXVAqP3YIJ1bipeti/g+ILhB/vPVAG1KwmUAdceLC8fHIC7EymUrcc4Mc01LsbBjOXwneJDRWHl4SgltlW/qrKYUm/x6qSfwEWI314Gi7gpn1A2gUKUpb1t/Cj34+G50pnUVYrOvp4ogrrlJD0xFj4S/Rfm5/0aLlUo+ylRNKkVhSMV9naxss4J5USNm9gFdwX0d+htUWKv6xSXVIjrHrFg4UKxYjKZLFZMVK8gFY5AEr15R1x0XN1roGc6Kr7UnRBmGlKKhWFA9LIqULVCnKZ0k+umNp4sCUfayoQyA8VD+RSxV+46hdsTQOWUsm3rKO7u1mqZXW2zIhSGHkyN0jYilfR3yWUvt9T4Egd+qF79bRBx5YTbQkoz06sKi4MWNdESC296kNcIXtsQNwjxdf6RGOI5RyW5P7CnSWQw6PsbOWeRJjTu3XVIwUbuwgTkXFaNLY4bwzyMd13owRK6kqIHebJCV1qaj+L46g3Za6INjUedo7fktdyqGsz08CeLkrENi2oyb+J7hMIpb/7cyfWWIJHSXxbJoVlQI8s+NKIVYxNdyn+FP43dnLh36TKLuQ3qkIw7oHQlnryhYTqXFbJ9QepSQB7IIQ23C9zLBg/+UQisVY2shei9XAAFppUpSLx/3B/xZtbgVsA/+33wDPIsjU/+qMMcq6aS3b92PxZkfKefzXZp+0949xteNQ2EWF/fEi7h8qN8ZcZQtykZy8moB436dYTxy33s3/8SGxKttPSgy9y9zuIzbP2tUkacIkDhxb6+vp1RueyEQpYWFkKr2UiDuZMVjlqnec2z29dg5fVGk6xQ+BruVTmyGN+OXhO+j+zCKYV7uXgIBmX2Y3jGxngYcCLdNh5+0Tx+dq8Ig6cIdkJOJdD3IefnWLZ/w9Nlm2Ecj77MRjiID2bU9mMhkEjp7AJX7nS10fTQT/R5yFk2IJcD/z0Fa0DGV5fklLK65T7t4cO56iUiJB/MhTc8jJEWxijIz4QZfmHkuFJlrSDy/AFBPRyy0ew0ckH8VDwN0EYnrnM6BPzTYsVFKTO9OcqxJq2wzr1pbOKlPeoRvngqRBJ+8AiqHE97WGG7P/C4g7CsbRWfQx1y9btEPItqLKw9+hQse3Kq98xgJLSv9egjsCA2YbXwCI3ByotXtj/1ygfLWlt+18PQ+HR34P5udC/aLQR8/OhohvEXyu4/fbBbQkdbC8bR1GZc/sWd0Q6fjnKK3mawljd9Rvs9bMbuX9q7so70qsjEyK8rCCeBBYvdZdc/1s6AY6d9mztRw8ivK4z6ggZrc9usq6cFi98/cH4cv6FR2LtyPsC1zx/2Sop7fNxabu3hN1J8Pnx03OdbKixs7gWurOPjD3kfxjn54JdwbG6D4LRGT9auyiBXa1Gr1SmwD03ap1OPeu0Iv3Qky6PeOxJfO/r7XrT6+14t+9tepvt7Xh/8P+/FtrCC4BVzAAAAAElFTkSuQmCC";
		$company = 1;
		$numero = 888;
		
		$im = new TratarImagem();
		$ret = $im->createDirectory("../../events/$company");
		echo $ret . "***";
		$ret =$im->createDirectory("../../events/$company/products");
		echo $ret . "***";
		$ret =$im->createDirectory("../../events/$company/products/originals");
		echo $ret . "***";
		$ret =$im->createDirectory("../../events/$company/products/full");
		echo $ret . "***";
		$ret =$im->createDirectory("../../events/$company/products/thumb");
		echo $ret . "***";
		
		$imagenFull = $im->save_base64_image($full, $company . '_' . $numero . '_full'
			,"../../events/$company/products/originals" );
		$imagenThumb = $im->save_base64_image($thumb, $company . '_' . $numero . '_thumb'
			,"../../events/$company/products/originals" );
	}catch(Exception $e){
		echo $e->getMessage();
	}
});

//***********************************************Users*****************************************************

require_once __DIR__ . "/routes/routes_user.php";
//***********************************************Login*****************************************************

require_once __DIR__ . "/routes/routes_login.php";
//***********************************************PRODUCTSS*****************************************************
require_once __DIR__ . "/routes/routes_products.php";
//***********************************************Category*****************************************************
require_once __DIR__ . "/routes/routes_category.php";


$app->run();
